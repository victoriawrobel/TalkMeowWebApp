CREATE TABLE avatars (
                         id SERIAL PRIMARY KEY,
                         image BYTEA NOT NULL,
                         source VARCHAR(255) NOT NULL,
                         fur_color VARCHAR(63) NOT NULL,
                         eye_color VARCHAR(63) NOT NULL,
                         pattern VARCHAR(63) NOT NULL,
                         breed VARCHAR(63) NOT NULL,
                         age VarCHAR(63) NOT NULL
);

CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    role VARCHAR(10) NOT NULL DEFAULT 'USER',
    security_question VARCHAR(255) NOT NULL,
    security_answer VARCHAR(255) NOT NULL,
    avatar INT REFERENCES avatars(id) ON DELETE SET NULL DEFAULT 1,
    ban_strike INT DEFAULT 0,
    user_status VARCHAR(20) NOT NULL DEFAULT 'ACTIVE'
);

CREATE TABLE banned (
    id SERIAL PRIMARY KEY,
    banned_user INT REFERENCES users(id) ON DELETE CASCADE,
    banned_by INT REFERENCES users(id) ON DELETE SET NULL,
    reason TEXT NOT NULL,
    ban_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    ban_time_end TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE messages (
    id SERIAL PRIMARY KEY,
    sender INT REFERENCES users(id) ON DELETE CASCADE,
    receiver INT REFERENCES users(id) ON DELETE CASCADE,
    message_content TEXT NOT NULL,
    status VARCHAR(10) NOT NULL DEFAULT 'SENT',
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE inappropriate_messages (
    id SERIAL PRIMARY KEY,
    message_content TEXT NOT NULL,
    sender INT REFERENCES users(id) ON DELETE CASCADE,
    message INT REFERENCES messages(id) ON DELETE CASCADE,
    approval VARCHAR(20) NOT NULL DEFAULT 'NEEDS_VERIFICATION',
    message_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO avatars (image, source, fur_color, eye_color, pattern, breed, age)
VALUES(decode('FFD8FFE000104A46494600010200000100010000FFDB004300080606070605080707070909080A0C140D0C0B0B0C1912130F141D1A1F1E1D1A1C1C20242E2720222C231C1C2837292C30313434341F27393D38323C2E333432FFDB0043010909090C0B0C180D0D1832211C213232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232FFC000110800C800C803012200021101031101FFC4001F0000010501010101010100000000000000000102030405060708090A0BFFC400B5100002010303020403050504040000017D01020300041105122131410613516107227114328191A1082342B1C11552D1F02433627282090A161718191A25262728292A3435363738393A434445464748494A535455565758595A636465666768696A737475767778797A838485868788898A92939495969798999AA2A3A4A5A6A7A8A9AAB2B3B4B5B6B7B8B9BAC2C3C4C5C6C7C8C9CAD2D3D4D5D6D7D8D9DAE1E2E3E4E5E6E7E8E9EAF1F2F3F4F5F6F7F8F9FAFFC4001F0100030101010101010101010000000000000102030405060708090A0BFFC400B51100020102040403040705040400010277000102031104052131061241510761711322328108144291A1B1C109233352F0156272D10A162434E125F11718191A262728292A35363738393A434445464748494A535455565758595A636465666768696A737475767778797A82838485868788898A92939495969798999AA2A3A4A5A6A7A8A9AAB2B3B4B5B6B7B8B9BAC2C3C4C5C6C7C8C9CAD2D3D4D5D6D7D8D9DAE2E3E4E5E6E7E8E9EAF2F3F4F5F6F7F8F9FAFFDA000C03010002110311003F00E989E69C2987AD3D6B90EB2414F14D514F0291628A5A00A5C50014B4629680128A5A3140094518A5C5002514B498A0028A5C518A004A2968A006D14EA4C500369A6A4C5348A0089AA36A9585308A6264468A5A28244239A7A8A69EB5228A0687A8A900A6A8A900A450014B451400514A002464E0773E82B9C8FC65753CEFF61B6812D83109E6A066603B92453D16AC6A2E4EC8E8A8AAB078963381A969F16D3C7990FCBFCB8FD2B663B4B5D423F334EB95627FE594870DF81E869DAFB12EEB72851579348BE772A2DD9483825B81572DFC397328CCAEB11F4FBDFC8D354E4FA12EA45753168AE88F85CFFCFD7FE43FFEBD412787265FBB3C6C7D3914DD39205522625157E5D22F623CC0CD9E8539A82E059E9AA5B50B90AC3FE59464163F5EC2A795F51F327B15E8AA7FDBD7170C4699A6C6A9DA4986E3FAF1FA544BAF5E43385BF860922270C1502903D88152DC57534509B5748D1A29F220495941C80783EA29B4C91290D3A929011B0A88D4ED50B0A60447AD14A68A08131CD4AA2A21D6A55A06895453E9AB4E148A168C52D14015EF5CC7A7DD38EAB04847FDF26BCDB4E9C476F0F3FC20D7A4DF297D3AE9475685C7E6A6BC863B82B6E83D38A9A8AE91D1856B999E93A54F0DCDBEC72A1718395FBDEDCE3FAD5ED3B4A963BB2C8E520CE42FA562F852DE77804D212A87A7BD758D74225C0E3E95AC5596A6155FBCD23762BF782308246381DCE686D4DDFAB9AE70DF6E3D685BBF7A6E4C85047442F8FF007AA45BC3EB5CE8BA3EB5225D7BD43915CA744D334B115DC46463835C9DCF8695EFBCE918BC79CED35AB05DF3D6B423916414AF71DAC65986282DF6851B47A0E95C96A603CD201E86BB7D46DDFECCCD192703A570123966933D79AC6B5F43AF0CB76752398606FEF4119FFC74514F65D90DB2FA5BC7FF00A0D36B76718946297149480630A89854C6A27A044468A534531118FBD5320A8875A9928044AB4E14829F48A0A28A5A6034AEF053B30C5799E87E1A7BEBB91EE014B48A43CFF7ABD3D4008D239C01C0FAD73DA85FC502F95080A83A015BC209439A4473C94AD12EACF15BC6B14402AA8C0029A65693A1AE756FF73FDEFD6AF2EAD67651F9B733A4683A9638AC65234512DDD79B04466C1DA393491DC131862700D5793C51A56A36935BDADCC324854E003C9FC2B386A03EC7129E180C54B9229266F477409C66B4A08DA54CAF3C571B0DFF00EF396CD777E1F757B391DBB29A81B564574DE39C1C55EB6BA2A4555D43C41A1E96890DE5F410C84676330CFE55041A8D85F45E7595CC5327AA3034C475304E922E1B073D6B9CD6FC35E548D776A330B905D07F0FFF005AA6B6BBDAC066BA0B0BC57C2BE0A9E0D524A5B894A50F84C3BC5D971B318DA8807FDF22A1C5743AEE9C1A05BA840F90056C7F77B573D57356667095D5C4A29692A0A1A6A37A94D46C2802034529A2992300E6A64E95101CD4C8281A25514FA414A290C2834B4A3EF0FAD34232B5BBE306DB7438DA39FA9AE56E03CE095C935735CB926FA427BB1A34E950E3D6BA2B6968F62292EA6325ADF799C412B0EBF2826B8AF10CD3DC5E069B708433246BEEB8CFE3CD7BB584CA8C1B83EDD6B2BC45E05B3D604D3596C226733184B0568E420062A4E0156C0C824608CF39C5610494AECD2A3728D8F0D87ECA96F70E5A58AED02BDB491F4C83C86FA83C1F515D7DA5FC97DA4C53B0FDE03B5F1EA2B522F855AA484994DBDBC43F89A404B7E0A49FF3C56AD8F87ECBC3960619E4FB4032172EEBB476ED9F6AAAA949233A3783661D9A4AF229C11DABBEFB4CBA4F82EE6F100F34858E207A1762157F0C9C9F606B2D6FEC7CB063FB3ECEA30456E622D5B413A65C878EDDE4495658D7254A9CFF009FEB5928AE6D76376F4D0F028AE50EA71DE5FAB5D7EF964995CF320C8241FA8E2BA61AAD841E278AEBC3515C416AD18FB4C246149CE32064FA8AEAB55F86AD737266D3D6062D92E165555CFA80C411F4C71D327AD745E11F03D8F876DE4BCD49A39AF1882A81810B8E9D2BA5D9C5AE872C62E324CAF65A84B30526275FF7948AE92C2E1B8E79AA72AABCA5B0064F6A9EDF8615CC958EA6EE7616738B9B66864C104639AE5668CC533C67AAB106B6F4D7C48B59DAA803549C0FEF66B56EF1314AD229628A5C515996348A89854C6A3714C0AE7AD14AC39A2810D039A9D0546179A9D169D807014EC52814EDB4580662940E69DB6976D1603CFBC46AD1DE4BF53595657A637009C735D578AECFE6F340E1C735C2B2B472719ABAF2D6E5518FBB63B5B4D4FE41CF18F5FF00EBD5CFED43D03571505C3AF0C0EEF4F4AB8B3C92F1B893E8BD07F9FF0026B9DCD1AA81E87A44914A034CDBB3D89AD5BFD3B4DD574D96C6E22531CAB83EA3DC1F5AF3EB2BA92151C91ED5B11EAD2606EC93DAAE35236329537719A6F875B4CD5E2D3B50D4659AC00F31089595A4193F23639DBF8F2001EB5E8705BE9EB6C9045046B128DAAAAA0002BCB6FAE2F9B515BA94E50284080F400E7F3E4D6FE9DAF158C658D38CA2AEAC3A9CF2B49B37F57D2D12069ADCE31CE2B991336EC31E95AB77AFA4B6CF171923BF4AE7C4C3763919E8339FCAA5DBA046FD4D157CD5CB7196159907CC46383E95AD663A5340CDAB21875AA3A9B6FD4A73FED62B4B4F5DF283D979349ABD8EF1F6B887FBE3FAD68968657D4C3C515205A36D4D8A23A638A9CAD46CB4582E5561CD15232D14EC20039A99169A07353A2D558900B4EDB5205A76DA2C321DB46DF6A976D0569580CCD5ED639F4D9449C11F77EB5E7735985908E3767F2AF40D6A6DA62B71DFE635C06A523C3725D4F1DC7AD5D6A5FBA52EA551A9EFB88B1D8AE39E9E9EB5763B708A0607D3159D6DABC6CD89060815A715E4320C861CD79CD5B73B09D23C7D7B9A95170D9A8D654EC454A245F5A684D1316DEB8351AC614F14A1D7D68F317D69B77252B08E18E304F142647403D48EC69DE6A77229AD730C7C970284C76346DE4518EB8EB8EE2B5ADE604800FCC4F1EF5CB25F87702042E7B7A5751A3DA3B32CB28E7A81E95B41DCCA6AC753A72F9710CFDE239AB76ECACCD1B720F1556DCE08A6AC9B673F5AD93B183574675F5A7D96E9907DD3CAFD2AB6DAE87558567B45987DE4E7F0AC3DB5528EA4C6574425698CB564AD46CB4AC5151968A91873451610C039AB118A89473561055D807814E0B4E514F028B0C8F6D26DA9B1505DC9E4DA4B27F7549A695D89B38FD4EF04BAC1E78CED15CD6ACBF3B7BF1FE7F4A9AF6E4A5EAC84F46CD3756C13BC743CE6BA2B6B4EDD88A3A4D339E78B19E3AD0A1D0F0C6AE6C0E334AB0D7912D19E922149E71FC46AC2DD5C7F78D4F15A06C715A305803DAA6D707248CE49EE9BA66A602F1FD6B7ADF4E51FC35A50E9EBFDD156A999BAA7289637B275635A16DE1F925606424D75315928ED5A10DB28ED54A9221D5666E9BA2C7028F94715D0C5188940029235545A43282D5A5AC677B97A06E6AB79999D8FBD49136D8CB1EC2A923E5C9F7A6246DC0DE740F113C11592536B10474ABB6926D7151DCA6DB87FAE6B58BBA26D66542B513AD592B5138A7602A30E68A7B0A28B088947356505575EB5663A604A053C0A6AD43777D0D9A6643CF614257D82F62CE2B3F5B3B7499CFB0FE758B75E28656214851ED59F71E22FB5DB4903C84EE1D335AC69BB90E6AC725A9B10C4E6A58A6FB6698A49CB27CA6AAEA4DB89C1AABA5DC88676858FCB20C7E34A52F7B95F5348C7DD4C92393CB9769E95A08818645675D26C909A96D2EF6FCAD5E6D456676C7546C40306B5AD80ACA85D5C641ABB0B95C54C65614A37372003835A116302B120B9C62AEA5D003AD6EA48C1C59AE8C2AC24800AC5176077A1F5100601A7CC85CA6BCD740700D242FB8F359114A643926B56D8648A2F70B58BD3CBE5DB7B9AAB1377A86F27DD2841D169616A1891A703722AD5CF2E0FA8154206F9855E979DBFEE8AD204C8808A85C54E6A27AD092B30E68A56EB4500540E335611C56579D83D6A4172077AA5115CD5328542C7A019AF3ED6B587966918B1E4F1ED5D63DEA18D94B632315E69AC968E4719E41AB4B95364BF79A452BBD49892777EB59326AD2236437EB51CF21626B326193587B4772DC52474106A42F22F98FCE3AD40EC43EE1D41AC4B59CC33E33C1AD16B95C649A89B6DDCD29C95AC7426517568928EB8C1FAD540707AD55D2EF17CE680B70FD3EB569FE57359D557F78DA9CBA16E0BB78BA1E95AB6DA9AB60371580324714B92B5CEE26C99D84772A464352BEA0B18FBD5C92EA0F08E5B8A77DA9A53C9A5662B23A41A8BC870A78ABD6CCCE413CD6058F24574566BC0AD228CE46B5AA9E2B584A2DAD9A43E9C7D6B3ED109C557D5EF1565580300A9D7EB5B2D118BD499262CE589E4F357A190573B15FC6C701C647BD68C1741B9CD4DC7667436CDB9D47A9AD293963599A4A349994FDD1C0F735A8456F4F6B99C8888A85EAC30A81EAC92B3F5A286EB450072CF2915566B9751C55E78327A544D67BBB57441A3192662CD732B1C126B075C963101CAB338EBB6BB0934EC8E95897FA33B39651CD695249C2C4D38BE6B9E6F2DF4249E483EE315525BA8CF46AEE2E742F309F32DD1BDC8ACE97C3511E96E57E86B87951D0D499C5CB2966CA83C56FDBDA8FECF49A4E59D437D2AD3F86BFBAB20A5FECFBF86DC402132228C29C608A4DAB0A107177662B31826595382A722BA5695678A395390E32315CF5DDBDC463125BBA1F7ADEF0ACEA2DDD641F3C6D819EC0FF9352F58970769D8BD6F697054318980F718AB834E95D33E59AD059C4D6F9500015B7A7A03002CBD2B068E8BB3CD35F8A5B280B104722ACE9B1CD74A8228D9C900E1466BA9F88765027867CD20090C8A17D4FF009155F42BB8ACB4B84228194539F5354D2E55733527CCEC5AB3D3AE620BE64454E3A1ADEB581B8C8239EE2A89BB7980753C0AE86C1F74685877C52D8A77EA4E8CB6B6AF3BF4415CF858EE0F9CF86673924F35ADE27B4D467B5821D3A012293BA5F9C29F61CD63E99A7EAF06D13E9D200A3FE7AA1FEB4E4FA12BB9A90E8D657683312863D197823F1AA6B17D93557B001E578D803B4741D467F0AD8D322BE8A24596DE38C82325A4CF1ED81FE15ABB57CC67DABBD8E59B1C9A969587CCCBB672A88113604C0E82AD1C1ACE438356D1B8ADE13B99490E6150482A7278A82435A92557A287EB452032FCB19A956107B50073532534C447F6753DAA096C55BB56928A76C06A9B04603E98A7F86A13A421FE1AE8CC63D29A63158C91699CE7F6327F747E54E5D1D07F08AE8360A4DA2B268AB988DA25BCABB65851D4F50CB9ACC9BE1FE8F2C86487ED16721EF6F2000FE0C08AEBF028C54D87738F4F039893647ABCFB7D5E1563FA63F9569DB6812451189F5194A9EF1C48A7F50D5BB8A5C503E6663DF78774FD4EDD61BE89EE029C86773907DB18C7E158ADF0FACE318B3D46FADD739D84A48A3E995CFEB5D9628A424EDB1CB45E129E289A35D59B0DDFECC33FFA156ADAE8EF122ACB7F7120539C285407EB819FD6B5452D01CCD880055006703D4E6971451408502940A052D031EB5329A856A65AD60896C713C544E69EC6A0735B2208D8F345358F34500541D6A64A28A1089D6A4028A2980A4546C28A2931A18452734515932D094514566C614B8A28A401CD2628A2900B4A28A280168A28A6862E29C051455A422451520E94515A448623542F451562206EB45145023FFFD9', 'hex'),
       'AI Generated',
       'WHITE', 'BLACK', 'SOLID', 'BRITISH_SHORTHAIR', 'YOUNG');

INSERT INTO users (username, email, password, role, security_question, security_answer)
VALUES ('admin', 'admin@admin.admin', '$2a$11$Aa6ydXOb3Qhot.7ttTO5XO53KVqXhwq4FchoKHOCi6LvumrrdCm/q', 'ADMIN', 'admin', 'admin');

INSERT INTO users (username, email, password, role, security_question, security_answer)
VALUES ('manager', 'manager@manager.manager', '$2a$11$rjr0Aq4gt26IiZ58TZloJuwIL1I3h8RVPtb8JY1xuTrlFVsq1/hfO', 'MANAGER', 'manager', 'manager');
